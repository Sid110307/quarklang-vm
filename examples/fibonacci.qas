-- Copyright 2022-Present Siddharth Praveen Bharadwaj
-- https://sid110307.github.io/Sid110307
--
-- QuarkLang Assembly program for Fibonacci sequence

main:
	put 0 -- F(0)
	put 1 -- F(1)
	put 30 -- Iterations

loop:
    -- F(n) = F(n-1) + F(n-2)
	swap 2
	dup 0
	native 3

    -- F(n-1)
	dup 1
	iplus

    -- F(n-2)
	swap 1
	swap 2
	put 1
	iminus

    -- Check if the last element is equal to 0
	dup 0
	put 0
	ieq

    -- Loop if not equal
	ineq
	jif loop

	stop
