name: Makefile CI

on:
    push:
        branches: [master]
    pull_request:
        branches: [master]

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
            - uses: actions/checkout@v2

            - name: Clean Binaries
              run: make clean -s

            - name: Build Binaries
              run: make -s

            - name: Compile Examples
              run: make examples -s

            - name: Clean Binaries again
              run: make clean -s
